Return-Path: <linux-pwm-owner@vger.kernel.org>
X-Original-To: lists+linux-pwm@lfdr.de
Delivered-To: lists+linux-pwm@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 1F82537BA00
	for <lists+linux-pwm@lfdr.de>; Wed, 12 May 2021 12:07:49 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230236AbhELKIy (ORCPT <rfc822;lists+linux-pwm@lfdr.de>);
        Wed, 12 May 2021 06:08:54 -0400
Received: from mail02.asahi-net.or.jp ([202.224.55.14]:54289 "EHLO
        mail02.asahi-net.or.jp" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S230230AbhELKIy (ORCPT
        <rfc822;linux-pwm@vger.kernel.org>); Wed, 12 May 2021 06:08:54 -0400
X-Greylist: delayed 442 seconds by postgrey-1.27 at vger.kernel.org; Wed, 12 May 2021 06:08:49 EDT
Received: from sakura.ysato.name (ik1-413-38519.vs.sakura.ne.jp [153.127.30.23])
        (Authenticated sender: PQ4Y-STU)
        by mail02.asahi-net.or.jp (Postfix) with ESMTPA id 61E06218E5;
        Wed, 12 May 2021 19:00:41 +0900 (JST)
Received: from yo-satoh-debian.ysato.ml (v096177.dynamic.ppp.asahi-net.or.jp [124.155.96.177])
        by sakura.ysato.name (Postfix) with ESMTPSA id 186721C0077;
        Wed, 12 May 2021 19:00:41 +0900 (JST)
Date:   Wed, 12 May 2021 19:00:40 +0900
Message-ID: <87h7j86zlj.wl-ysato@users.sourceforge.jp>
From:   Yoshinori Sato <ysato@users.sourceforge.jp>
To:     Geert Uytterhoeven <geert+renesas@glider.be>
Cc:     Rob Herring <robh+dt@kernel.org>,
        Thierry Reding <thierry.reding@gmail.com>,
        Uwe =?ISO-8859-1?Q?Kleine-K=F6nig?= 
        <u.kleine-koenig@pengutronix.de>, Lee Jones <lee.jones@linaro.org>,
        Daniel Lezcano <daniel.lezcano@linaro.org>,
        Thomas Gleixner <tglx@linutronix.de>,
        Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>,
        devicetree@vger.kernel.org, linux-pwm@vger.kernel.org,
        linux-renesas-soc@vger.kernel.org, linux-kernel@vger.kernel.org
Subject: Re: [PATCH v2 1/2] dt-bindings: pwm: renesas,tpu-pwm: Improve json-schema
In-Reply-To: <d36e3690ce8c5a1e53d054552e4fd8b90d6a5478.1620648868.git.geert+renesas@glider.be>
References: <cover.1620648868.git.geert+renesas@glider.be>
        <d36e3690ce8c5a1e53d054552e4fd8b90d6a5478.1620648868.git.geert+renesas@glider.be>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM/1.14.9 (=?ISO-8859-4?Q?Goj=F2?=) APEL/10.8 EasyPG/1.0.0 Emacs/27
 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <linux-pwm.vger.kernel.org>
X-Mailing-List: linux-pwm@vger.kernel.org

On Mon, 10 May 2021 21:18:34 +0900,
Geert Uytterhoeven wrote:
> 
>   - Include the general PWM controller schema,
>   - Make clocks, power-domains, and resets properties required.
> 
> Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
> ---
> v2:
>   - Keep additionalProperties, as pwm.yaml doesn't add any other
>     properties.
> ---
>  .../bindings/pwm/renesas,tpu-pwm.yaml           | 17 +++++++++++++++++
>  1 file changed, 17 insertions(+)
> 
> diff --git a/Documentation/devicetree/bindings/pwm/renesas,tpu-pwm.yaml b/Documentation/devicetree/bindings/pwm/renesas,tpu-pwm.yaml
> index aa9a4570c9068226..7c99e42ad780c2cd 100644
> --- a/Documentation/devicetree/bindings/pwm/renesas,tpu-pwm.yaml
> +++ b/Documentation/devicetree/bindings/pwm/renesas,tpu-pwm.yaml
> @@ -58,6 +58,23 @@ required:
>    - compatible
>    - reg
>    - '#pwm-cells'
> +  - clocks
> +  - power-domains
> +
> +allOf:
> +  - $ref: pwm.yaml#
> +
> +  - if:
> +      not:
> +        properties:
> +          compatible:
> +            contains:
> +              enum:
> +                - renesas,tpu-r8a73a4
> +                - renesas,tpu-r8a7740
> +    then:
> +      required:
> +        - resets
>  
>  additionalProperties: false
>  
> -- 
> 2.25.1
> 

Acked-by: Yoshinori Sato <ysato@users.sourceforge.jp>

-- 
Yosinori Sato
